# TSocks 代理分流应用

TSocks是一款现代化的Android代理分流工具，专为Android 13+（API 33+）设计，提供灵活精确的网络流量控制能力。

<p align="center">
  <img src="app/src/main/res/drawable/ic_launcher_foreground.png" width="150" alt="TSocks Logo">
</p>

## 系统要求

- Android 13.0+（API 33+）
- 设备需要具备VPN权限
- 最低50MB可用存储空间

## 主要功能

### 代理分流模式

TSocks提供三种代理分流模式：

1. **全局代理模式**：所有应用的网络流量都通过代理转发
2. **绕行模式**：指定的应用和IP地址不通过代理，直接连接网络
3. **仅代理模式**：仅代理指定的应用，其他应用直连网络

### IP协议设置

- 支持IPv4和IPv6协议的独立控制
- 可以根据需要启用或禁用特定协议
- 自定义DNS服务器（IPv4/IPv6）

### 应用分流控制

- 智能应用列表，显示所有具有网络权限的应用
- 应用分类过滤：可查看全部应用、系统应用或用户应用
- 搜索功能，快速找到需要配置的应用
- 应用统计信息，清晰展示应用总数、当前显示数量和已选择的应用数量
- 选中的应用自动排序到列表前面，方便管理

### IP地址排除

- 可添加特定的IP地址或网段到排除列表
- 支持IPv4和IPv6地址
- 支持排除中国大陆IP段
- 这些IP的网络访问将绕过代理，直接连接

### Shadowsocks功能

- 集成shadowsocks-rust客户端
- 支持服务器配置管理
- 支持v2ray-plugin插件
- 支持SIP002 URL格式的导入和导出
- 服务器的延迟测试和TCPing功能
- 支持负载均衡模式

## 技术架构

TSocks采用了现代化的应用架构和技术栈：

- **UI框架**：使用Jetpack Compose构建现代化Material 3界面
- **语言**：主要使用Kotlin开发
- **核心引擎**：集成了原生C/C++和Rust代码
- **代理引擎**：使用shadowsocks-rust和HEV Socks5 Tunnel
- **持久化**：使用SharedPreferences和JSON进行配置存储
- **VPN服务**：基于Android VPN Service API实现透明代理

## 安装说明

1. 从Release页面下载最新APK
2. 在Android设备上启用"未知来源"应用安装
3. 安装APK文件
4. 首次启动时授予VPN权限

## 使用方法

1. 打开TSocks应用
2. 从左侧菜单选择"代理分流"
3. 使用顶部的标签页在不同功能之间切换：
   - **分流模式**：选择全局代理、绕行或仅代理三种模式之一
   - **APP**：选择需要代理或绕行的应用
   - **排除IP**：添加需要绕过代理的IP地址

4. 配置Shadowsocks服务器：
   - 打开左侧菜单中的"Shadowsocks"
   - 添加服务器配置
   - 选择要使用的服务器
   - 点击启动按钮开始代理服务

## 隐私说明

TSocks不收集或存储用户的个人数据。所有配置仅保存在设备本地。应用不会监控、记录或分析用户的网络流量内容。

## 权限说明

- **VPN服务**：用于创建代理通道
- **网络访问**：用于建立网络连接
- **网络状态**：用于监控网络变化
- **前台服务**：用于在后台持续运行VPN服务

## 常见问题

**Q: 设置了代理分流后，重启应用设置还在吗？**  
A: 是的，所有设置会自动保存，重启应用后依然有效。

**Q: 如何快速找到想要设置的应用？**  
A: 在APP页面顶部的搜索框中输入应用名称或包名，可以快速筛选应用。

**Q: 选择了应用后怎么查看？**  
A: 选中的应用会自动排序到列表的最前面，方便查看和管理。

**Q: 如何了解当前设置了多少应用？**  
A: 在APP页面的搜索框下方有统计信息，显示应用总数、当前显示数量和已选应用数量。

## 开源协议

TSocks是基于GPLv3许可证的开源项目。

## 致谢

感谢以下开源项目的贡献：

- shadowsocks-rust
- hev-socks5-tunnel
- v2ray-plugin

---

**注意**：请遵守所在地区的相关法律法规使用本软件。 